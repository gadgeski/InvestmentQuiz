# InvestmentQuiz

投資知識を楽しく学べる iOS 対応のクイズアプリです。

## 概要

InvestmentQuiz は、複利、インフレ、分散投資、インデックスファンドなど、投資の基礎知識から応用知識まで幅広くカバーした学習アプリです。ユーザーフレンドリーなインターフェースで、投資初心者から上級者まで楽しく学習できます。

## 機能

### 📚 豊富なクイズ内容

- **15 問**の投資関連問題を収録
- **3 段階の難易度**（初級・中級・上級）
- 各問題にヒントと詳しい解説を用意

### 🎯 学習サポート機能

- **ヒント表示**: 問題に詰まった時のヒント機能
- **詳しい解説**: 正答・誤答に関わらず、各問題の解説を表示
- **進捗表示**: 現在の進行状況を視覚的に確認

### 📊 スコア管理

- **リアルタイムスコア**: 現在のスコアを常時表示
- **ハイスコア記録**: 過去最高スコアの保存・表示
- **ベスト更新通知**: 新記録達成時の特別表示

### 🎨 ユーザーエクスペリエンス

- **直感的な UI**: 選択肢の状態（正解・不正解・未選択）を色分け表示
- **スムーズなアニメーション**: 画面遷移や状態変更時の滑らかな動作
- **アクセシビリティ対応**: 進捗バーにアクセシビリティラベルを設定

## 対応プラットフォーム

- **iOS** 18.5 以降
- **macOS** 15.5 以降
- **visionOS** 2.5 以降

## アーキテクチャ

### プロジェクト構成

```
InvestmentQuiz/
├── App/
│   └── InvestmentQuizApp.swift      # アプリのエントリーポイント
├── Models/
│   ├── QuizQuestion.swift           # クイズ問題のデータモデル
│   └── Difficulty.swift             # 難易度の定義
├── ViewModels/
│   └── QuizState.swift              # クイズの状態管理
├── Views/
│   ├── QuizView.swift               # メインのクイズ画面
│   └── Components/
│       ├── ChoiceButton.swift       # 選択肢ボタンコンポーネント
│       └── ProgressBar.swift        # 進捗バーコンポーネント
├── Data/
│   └── InvestmentQuizData.swift     # クイズデータの定義
├── ContentView.swift                # ルートビュー
└── Assets.xcassets/                 # アプリアイコンとカラーセット
```

### 技術仕様

#### フレームワーク

- **SwiftUI**: UI フレームワーク
- **Combine**: リアクティブプログラミング（@StateObject, @Published 使用）

#### データ管理

- **@AppStorage**: ハイスコアの永続化
- **@StateObject**: クイズ状態の管理
- **ObservableObject**: ViewModel パターンの実装

#### デザインパターン

- **MVVM**: Model-View-ViewModel アーキテクチャ
- **Component-based**: 再利用可能な UI コンポーネント

## 主要なクラス・構造体

### QuizQuestion

```swift
struct QuizQuestion: Identifiable {
    let question: String      // 問題文
    let choices: [String]     // 選択肢
    let correctIndex: Int     // 正解のインデックス
    let hint: String          // ヒント
    let explanation: String   // 解説
}
```

### QuizState (ViewModel)

クイズの状態とビジネスロジックを管理：

- 現在の問題インデックス
- 選択された回答
- スコア計算
- 進捗管理
- 問題の遷移制御

### Difficulty

問題のインデックスに基づいて難易度を自動判定：

- 0-4 問目: 初級
- 5-9 問目: 中級
- 10 問目以降: 上級

## 出題内容

### 初級（1-5 問目）

- 複利の仕組み
- インフレの影響
- 分散投資の目的
- インデックスファンドの特徴
- ドルコスト平均法

### 中級（6-10 問目）

- ETF の特徴
- PER（株価収益率）
- 配当利回り
- 金利と債券価格の関係
- ポートフォリオのリバランス

### 上級（11-15 問目）

- リスク許容度の判断
- コストがリターンに与える影響
- ボラティリティの概念
- ベータ（β）の意味
- シャープレシオの計算

## 開発環境

- **Xcode**: 16.4 以降
- **最小デプロイメントターゲット**: iOS 18.6

## ビルドと実行

1. Xcode でプロジェクトを開く
2. ターゲットデバイス/シミュレーターを選択
3. `⌘+R`でビルド・実行

## 特徴的な実装

### アニメーション

- ヒントの表示/非表示
- 回答後のフィードバック表示
- 問題遷移時のスムーズな切り替え

### 状態管理

- 選択肢ボタンの状態（通常/正解/不正解/無効）を enum で管理
- ViewModel パターンによる状態の一元管理

### アクセシビリティ

- 進捗バーにアクセシビリティラベルと値を設定
- 視覚的な情報を音声でも伝達

---

_投資は自己責任で行ってください。このアプリは教育目的で作成されており、投資助言を提供するものではありません。_
